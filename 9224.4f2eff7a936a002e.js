"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9224],{9224:(U,g,r)=>{r.r(g),r.d(g,{BusinessGroupModule:()=>A});var p=r(9808),a=r(4996),t=r(5e3),_=r(7802),h=r(4748),b=r(5730),m=r(2160),C=r(1228),f=r(63),x=r(9196),d=r(2382),u=r(9759);function v(o,c){if(1&o&&(t.TgZ(0,"li",20),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",e.url),t.xp6(1),t.hij(" ",e.title," ")}}function B(o,c){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,v,2,2,"li",19),t.qZA()),2&o){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",e.isEnabled)}}function M(o,c){1&o&&(t.TgZ(0,"div",21)(1,"button",22),t._UZ(2,"img",23),t.qZA()())}function T(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).deleteBG(i._id)}),t._uU(1," Delete "),t.qZA()}}function Z(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"span",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).editBussinessGroup(null==s?null:s._id)}),t._uU(3),t.qZA()(),t.TgZ(4,"td")(5,"span",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).editBussinessGroup(null==s?null:s._id)}),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"span",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).editBussinessGroup(null==s?null:s._id)}),t._uU(9),t.qZA()(),t.TgZ(10,"td")(11,"span",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).editBussinessGroup(null==s?null:s._id)}),t._uU(12),t.qZA()(),t.TgZ(13,"td")(14,"span",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).editBussinessGroup(null==s?null:s._id)}),t._uU(15),t.ALo(16,"date"),t.qZA()(),t.TgZ(17,"td")(18,"div",25)(19,"button",26),t._UZ(20,"i",27),t.qZA(),t.TgZ(21,"div",28)(22,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).navigateTo(s._id,"legal-entity")}),t._uU(23," Manage Legal Entity "),t.qZA(),t.TgZ(24,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).navigateTo(s._id,"location")}),t._uU(25," Manage Location "),t.qZA(),t.TgZ(26,"button",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).navigateTo(s._id,"practice")}),t._uU(27," Manage Practice "),t.qZA(),t._UZ(28,"div",30),t.YNc(29,T,2,0,"button",31),t.qZA()()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(3),t.Oqu(null==e?null:e._id),t.xp6(3),t.Oqu(null==e?null:e.name),t.xp6(3),t.AsE("",null==e||null==e.contactPerson?null:e.contactPerson.firstName,"\xa0",null==e||null==e.contactPerson?null:e.contactPerson.lastName,""),t.xp6(3),t.Oqu(null==e||null==e.contactPerson||null==e.contactPerson.phone?null:e.contactPerson.phone.number),t.xp6(3),t.Oqu(t.xi3(16,7,null==e?null:e.createdAt,"mediumDate")),t.xp6(14),t.Q6J("ngIf",n.isSuperUser)}}function G(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Z,30,10,"tr",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.data)}}const w=function(){return{standalone:!0}},O=[{path:"",component:(()=>{class o{constructor(e,n,i,s,l,S,y,k,L){this.router=e,this.businessGroupDropdownService=n,this.businessGroupService=i,this.alertService=s,this.cookieService=l,this.cdRef=S,this.authService=y,this.searchString=k,this.globalRoutes=L,this.loading=!0,this.checkedItems=[],this.checkAllState=!1,this.searchCount=0,this.onBoardingMenu=this.globalRoutes.getSettingsOnboardingRoutes()}ngOnDestroy(){this.businessGroupDropdownService.disable(!1)}ngOnInit(){this.getOrgBgId(),this.checkPermission(),this.urlSettings=this.globalRoutes.getSettingsUrl()}ngAfterViewInit(){setTimeout(()=>{this.businessGroupDropdownService.disable(!0),this.cdRef.detectChanges()},100)}fetchBgList(){this.businessGroupService.getBusinessGroups().subscribe({next:e=>{this.data=e},error:()=>{}})}fetchBgListByBGId(e,n){this.businessGroupService.getBusinessGroup(e,n).subscribe({next:i=>{this.data=[i],console.log(this.data)},error:()=>{}})}deleteBG(e){e&&this.alertService.conformAlert("Are you sure?","You want to delete").then(n=>{n.value&&this.businessGroupService.deleteBusinessGroup(e).subscribe({next:i=>{this.businessGroupDropdownService.reload(),this.fetchBgList()},error:()=>{}})})}navigateTo(e,n){this.businessGroupDropdownService.setSelectedBusinessGroup(e),this.router.navigate([`dashboard/settings/onboarding/${n}`])}getOrgBgId(){var e,n;let i=localStorage.getItem("permissionSet");i=JSON.parse(i);let s=this.authService.getOrgId();i&&((null==i?void 0:i.__ISSU__)?(this.fetchBgList(),this.isSuperUser=!0):(null===(e=i.bgs[0])||void 0===e?void 0:e._id)?this.fetchBgListByBGId(null===(n=i.bgs[0])||void 0===n?void 0:n._id,"intelliveer"):this.fetchBgListByBGId(s,s))}search(){this.searchCount++,1==this.searchCount&&(this.dataBackup=this.data),this.data=this.dataBackup;let e=this.data.filter(n=>n._id.toLowerCase().includes(this.searchText.toLowerCase())||n.name.toLowerCase().includes(this.searchText.toLowerCase())||n.contactPerson.firstName.toLowerCase().includes(this.searchText.toLowerCase())||n.contactPerson.lastName.toLowerCase().includes(this.searchText.toLowerCase())||n.contactPerson.phone.number.toLowerCase().includes(this.searchText.toLowerCase())||n.createdAt.toString().toLowerCase().includes(this.searchText.toLowerCase())||n.contactPerson.firstName.toLowerCase().concat(" ").concat(n.contactPerson.lastName.toLowerCase()).includes(this.searchText.toLowerCase()));this.data=e}checkPermission(){let e=this.globalRoutes.getSettingsOnboardingRoutes(),n=this.searchString.transform("title",e,"Business Group");this.bussinessAdd=this.searchString.transform("title",n[0].child,"Add"),this.bussinessEdit=this.searchString.transform("title",n[0].child,"Edit"),this.bussinessDelete=this.searchString.transform("title",n[0].child,"Delete")}editBussinessGroup(e){this.router.navigate([`${this.globalRoutes.getSettingsOnboardingRoutes()[0].child[1].url}/${e}`])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.F0),t.Y36(_.Y),t.Y36(h.Z),t.Y36(b.c),t.Y36(m.N),t.Y36(t.sBO),t.Y36(C.e),t.Y36(f.E),t.Y36(x.o))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-business-group"]],decls:35,vars:7,consts:[[1,"row"],[1,"col-2"],[1,"settings-row","pointer",3,"routerLink"],[1,"bi","bi-arrow-left-circle",2,"font-size","2rem"],[1,"ul",2,"margin-top","27px"],[4,"ngFor","ngForOf"],[1,"col-10","component-view"],[1,"container"],[1,"d-flex","justify-content-between","call-to-actions"],[1,"col-4"],[1,"input-group","search_box"],["id","basic-addon1",1,"input-group-text","border-0","bg-transparent"],[1,"bi","bi-search"],["ngbTooltip","For date use format: AAAA-MM-DD","tooltipClass","tooltip-class","type","text","placeholder","Search","aria-describedby","basic-addon1",1,"form-control","border-0",3,"ngModel","ngModelOptions","ngModelChange","keyup"],["class","d-flex gap-2",4,"ngIf"],[1,"container","mt-4"],[1,"table"],["scope","col"],[4,"ngIf"],["class","pointer","routerLinkActive","active",3,"routerLink",4,"ngIf"],["routerLinkActive","active",1,"pointer",3,"routerLink"],[1,"d-flex","gap-2"],["routerLink","/dashboard/settings/onboarding/business-group/add",1,"add_btn"],["src","/assets/icons/add.svg","alt",""],[1,"pointer",3,"click"],["ngbDropdown","","container","body","placement","bottom-end"],["ngbDropdownToggle","",1,"btn","btn-light","btn-sm","more_btn"],[1,"bi","bi-three-dots-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"dropdown-divider"],["ngbDropdownItem","",3,"click",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"i",3),t.TgZ(4,"p"),t._uU(5,"Settings"),t.qZA()(),t.TgZ(6,"ul",4),t.YNc(7,B,2,1,"div",5),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"span",11),t._UZ(14,"i",12),t.qZA(),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(s){return n.searchText=s})("keyup",function(){return n.search()}),t.qZA()()(),t.YNc(16,M,3,0,"div",14),t.qZA()(),t.TgZ(17,"div",15)(18,"div",0)(19,"table",16)(20,"thead")(21,"tr")(22,"th",17),t._uU(23,"ID"),t.qZA(),t.TgZ(24,"th",17),t._uU(25,"Name"),t.qZA(),t.TgZ(26,"th",17),t._uU(27,"Contact Person"),t.qZA(),t.TgZ(28,"th",17),t._uU(29,"Phone no."),t.qZA(),t.TgZ(30,"th",17),t._uU(31,"Created on"),t.qZA(),t.TgZ(32,"th",17),t._uU(33,"Actions"),t.qZA()()(),t.YNc(34,G,2,1,"tbody",18),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("routerLink",n.urlSettings),t.xp6(5),t.Q6J("ngForOf",n.onBoardingMenu),t.xp6(8),t.Q6J("ngModel",n.searchText)("ngModelOptions",t.DdM(6,w)),t.xp6(1),t.Q6J("ngIf",n.isSuperUser),t.xp6(18),t.Q6J("ngIf",n.data))},directives:[a.rH,p.sg,p.O5,a.Od,d.Fj,u._L,d.JJ,d.On,u.jt,u.iD,u.Vi,u.TH],pipes:[p.uU],styles:[".add_btn[_ngcontent-%COMP%]{border:none;background:transparent;width:34px}.add_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px}.search_box[_ngcontent-%COMP%]{border:1px solid #dbdcdd;border-radius:6px}tr[_ngcontent-%COMP%]{line-height:3}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:1px solid currentColor}.more_btn[_ngcontent-%COMP%]{font-size:16px;font-weight:700;background-color:transparent;border:none}table.table[_ngcontent-%COMP%]{table-layout:fixed}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;text-align:start}table.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:min-content}.tooltip-class[_ngcontent-%COMP%]   .tooltip-inner[_ngcontent-%COMP%]{background-color:#006400;font-size:125%}.tooltip-class[_ngcontent-%COMP%]   .bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{border-right-color:#006400}.tooltip-class[_ngcontent-%COMP%]   .bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{border-left-color:#006400}.tooltip-class[_ngcontent-%COMP%]   .bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{border-top-color:#006400}.tooltip-class[_ngcontent-%COMP%]   .bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{border-bottom-color:#006400}ul[_ngcontent-%COMP%]{font-size:13px;font-weight:700}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:3.2}.component-view[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow-x:hidden;overflow-y:auto}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.Bz.forChild(O)],a.Bz]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,u.XC,P,u.IJ,d.u5,d.UX]]}),o})()}}]);