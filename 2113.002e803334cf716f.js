"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2113],{2113:(M,a,s)=>{s.r(a),s.d(a,{EditInsuranceSubscriberModule:()=>C});var l=s(9808),b=s(4733),u=s(4996),m=s(7924),r=s(5e3),p=s(1228),h=s(7802),g=s(5730),S=s(2080),v=s(1483);function f(n,c){if(1&n){const e=r.EpF();r.TgZ(0,"div",1)(1,"app-insurance-subscriber-form",2),r.NdJ("onCancel",function(){return r.CHM(e),r.oxw().handleCancel()})("onSubmit",function(t){return r.CHM(e),r.oxw().update(t)}),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(1),r.Q6J("title","Edit Family Member")("formData",e.data)}}const I=[{path:"",component:(()=>{class n{constructor(e,i,t,o,E,D){this.router=e,this.activeRoute=i,this.authService=t,this.businessGroupDropdownService=o,this.alertService=E,this.insuranceSubscriberService=D,this.businessGroupDropdownSupscription=this.businessGroupDropdownService.businessGroup().subscribe(d=>{d&&(this.selectedBusinessGroup=d,this.getOrgBgId())})}ngOnInit(){}getData(){this.activeRoute.params.subscribe(e=>{e.id&&(this.id=e.id,this.insuranceSubscriberService.getSingleData(this.bgId,e.id).subscribe({next:i=>{this.data=i},error:()=>{}}))})}update(e){console.log(e);let i={_id:this.id,profile:{relationshipWithPatient:e.relationship,title:e.title,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,DOB:e.DOB,gender:e.gender,preferredPronoun:e.pronoun,language:e.language,maritalStatus:e.maritalStatus},address:e.address,contact:{email:e.emailId,primaryPhone:{type:e.primaryPhoneType,countryCode:"",number:e.primaryPhoneNumber},secondaryPhone:{type:e.secondaryPhoneType,countryCode:"",number:e.secondaryPhoneNumber},primaryPreferredCommunicationMethod:e.primaryPreferredCommunicationMethod,secondaryPreferredCommunicationMethod:e.secondaryPreferredCommunicationMethod,preferredTimingForCall:e.preferredTimingForCall},financials:{workStatus:e.workStatus,occupation:e.occupation,employer:e.employer,creditRating:e.creditRating,SSN:e.SSN},notes:e.note};this.alertService.conformAlert("Are you sure","you want to edit insurance subscriber").then(t=>{t.isConfirmed&&this.insuranceSubscriberService.update(i,this.bgId).subscribe(o=>{this.alertService.success("Success","Insurance Subscriber has been updated successfully"),this.router.navigate(["/dashboard/patient/patient-user/insurance-subscriber"])},o=>{console.log(o)})})}getOrgBgId(){var e,i;let t=localStorage.getItem("selected_business_group"),o=this.authService.getLoggedInUser();(null==o?void 0:o.__ISSU__)?"intelliveer"==t||null==t?(this.bgId="intelliveer",this.getData()):(this.bgId=null===(e=this.selectedBusinessGroup)||void 0===e?void 0:e.bgId,this.getData()):(this.bgId=null===(i=this.selectedBusinessGroup)||void 0===i?void 0:i.bgId,this.getData())}handleCancel(){this.router.navigate(["/dashboard/patient/patient-user/insurance-subscriber"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(u.F0),r.Y36(u.gz),r.Y36(p.e),r.Y36(h.Y),r.Y36(g.c),r.Y36(S.r))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-insurance-subscriber"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"title","formData","onCancel","onSubmit"]],template:function(e,i){1&e&&r.YNc(0,f,2,2,"div",0),2&e&&r.Q6J("ngIf",i.data)},directives:[l.O5,v.A],styles:[""]}),n})(),canDeactivate:[m.I]}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[u.Bz.forChild(I)],u.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[l.ez,b.R,y]]}),n})()}}]);