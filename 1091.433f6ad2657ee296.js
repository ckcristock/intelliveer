"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1091],{5522:(O,P,i)=>{i.d(P,{e:()=>Y});var u=i(531),e=i(5e3),s=i(2382),m=i(7448),v=i(520),c=i(4524),r=i(9516),d=i(9100),f=i(5730),E=i(4540),h=i(192),C=i(4357),p=i(528),D=i(63),M=i(9196),T=i(1887),y=i(4996),A=i(9808),S=i(1762),x=i(5417),I=i(809),F=i(4376),U=i(9693),B=i(7842),R=i(9118);function Z(o,_){if(1&o&&(e.TgZ(0,"div")(1,"li",9),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.practiceName," ")}}function L(o,_){1&o&&(e.TgZ(0,"div")(1,"li",9),e._uU(2," Add Practice "),e.qZA()())}function W(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"img",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).checkPermission()}),e.qZA()()}}function K(o,_){if(1&o&&(e.TgZ(0,"ng-option",35),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.label," ")}}const b=function(o,_){return{"mandatory-field-saved":o,"mandatory-field":_}};function N(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",21),e._uU(2,"Practice Type"),e.qZA(),e.TgZ(3,"ng-select",33),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).inputChanged("practiceType")}),e.YNc(4,K,2,2,"ng-option",34),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngClass",e.WLB(2,b,t.mandAndRequiredFields[1].mandSaved,!t.mandAndRequiredFields[1].mandSaved)),e.xp6(1),e.Q6J("ngForOf",t.staticData.practiceType)}}const J=function(o,_){return{"col-11":o,"col-12":_}};function G(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",10)(2,"div",11)(3,"div",12)(4,"app-nav-bar-pills",13),e.NdJ("onCancel",function(){return e.CHM(t),e.oxw().cancel()})("onSave",function(){e.CHM(t);const a=e.oxw();return a.save(a.Form.value)}),e.qZA()()(),e.YNc(5,W,2,0,"div",14),e.qZA(),e.TgZ(6,"form",15),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw();return a.save(a.Form.value)}),e.TgZ(7,"div",16),e.NdJ("sectionChange",function(a){return e.CHM(t),e.oxw().onSectionChange(a)}),e.TgZ(8,"div",17)(9,"div",0)(10,"app-image-uploader",18),e.NdJ("onUpload",function(a){return e.CHM(t),e.oxw().handleUploadedImage(a)}),e.qZA()()(),e.TgZ(11,"div",19)(12,"div",0)(13,"h6",20),e._uU(14,"Profile"),e.qZA()(),e.TgZ(15,"div",0)(16,"div",12)(17,"label",21),e._uU(18,"Name"),e.qZA(),e.TgZ(19,"input",22),e.NdJ("input",function(){return e.CHM(t),e.oxw().inputChanged("name")}),e.qZA()(),e.TgZ(20,"div",12)(21,"label",21),e._uU(22,"Abbreviation"),e.qZA(),e._UZ(23,"input",23),e.qZA(),e.YNc(24,N,5,5,"div",24),e.qZA()(),e.TgZ(25,"div",25)(26,"div",0)(27,"h6",20),e._uU(28,"Physical Address"),e.qZA()(),e._UZ(29,"app-address-form",26),e.qZA(),e.TgZ(30,"div",27)(31,"div",0)(32,"h6",20),e._uU(33,"Mailing Address"),e.qZA()(),e._UZ(34,"app-address-form",26),e.qZA(),e.TgZ(35,"div",28)(36,"div",0)(37,"h6",20),e._uU(38,"Insurance Billing / Payment Address"),e.qZA()(),e._UZ(39,"app-address-form",26),e.qZA(),e.TgZ(40,"div",29)(41,"div",0)(42,"h6",20),e._uU(43,"Contact"),e.qZA()(),e._UZ(44,"app-contact-details-form",26),e.qZA(),e.TgZ(45,"div",30)(46,"div",0)(47,"h6",20),e._uU(48,"Contact Person Info"),e.qZA()(),e._UZ(49,"app-contact-person-form",26),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(22,J,!t.isSaveButton,!t.inEdit)),e.xp6(2),e.Q6J("menuItems",t.menuItems)("activeClass",t.currentSelection)("cancelBtn",t.isSaveButton||!t.inEdit)("saveBtn",t.isSaveButton||!t.inEdit)("disableSaveBtn",!1),e.xp6(1),e.Q6J("ngIf",!t.isSaveButton&&t.inEdit),e.xp6(1),e.Q6J("formGroup",t.Form),e.xp6(4),e.Q6J("imageUpLoaderDisable",t.imageUpLoaderDisable)("imageUrl",(null==t.formData?null:t.formData.logo)||""),e.xp6(9),e.Q6J("ngClass",e.WLB(25,b,t.mandAndRequiredFields[0].mandSaved,!t.mandAndRequiredFields[0].mandSaved)),e.xp6(5),e.Q6J("ngIf",t.staticData),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","physicalAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","mailingAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","insuranceBillingAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","contactDetails"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","contactPerson")}}let Y=(()=>{class o{constructor(t,n,a,l,g,Q,q,w,V,$,j,H,X){this.fb=t,this.http=n,this.addressFormService=a,this.contactPersonFormService=l,this.contactDetailsFormService=g,this.alertService=Q,this.patientUserServ=q,this.addPatientServ=w,this.insuranceServ=V,this.onboardingServ=$,this.searchString=j,this.globalRoutes=H,this.fieldValidationServ=X,this.title="",this.formData=void 0,this.onCancel=new e.vpe,this.onSubmit=new e.vpe,this.practiceTypeData=[],this.currentSelection="",this.menuItems=[{title:"Overview",id:"overview"},{title:"Profile",id:"profile"},{title:"Physical Address",id:"physicalAddress"},{title:"Mailing Address",id:"mailingAddress"},{title:"Insurance ",id:"insuranceBillingAddress"},{title:"Contact",id:"contactDetails"},{title:"Contact Person Info",id:"contactPerson"}],this.globalData=[{type:"Orthodontics",value:"Orthodontics",dataType:"Global Data"},{type:"Orthodontics 2",value:"Orthodontics2",dataType:"Business Data"}],this.isSaveButton=!1,this.inEdit=!1,this.imageUpLoaderDisable=!0,this.mandAndRequiredFields=[{name:"name",type:"dropdown",mandSaved:!1,required:!1,valid:!1},{name:"practiceType",type:"dropdown",mandSaved:!1,required:!1,valid:!1}]}ngOnInit(){var t;this.getStaticData(),this.initForm(this.formData),this.enableAndDisableInputs(),this.patientUserServ.setFalseAllNotPristine(),this.addPatientServ.setFalseAllNotPristineCWP(),this.insuranceServ.setFalseAllNotPristine(),this.onboardingServ.setFalseAllNotPristine(),null===(t=this.Form)||void 0===t||t.statusChanges.subscribe(n=>{var a;(null===(a=this.Form)||void 0===a?void 0:a.pristine)||this.onboardingServ.setpracticeNotPristine(!0)}),this.urlPractice=this.globalRoutes.getSettingsOnboardingRoutes()[3].url}initForm(t){var n;t=t||{},0!=Object.keys(t).length?(this.inEdit=!0,this.FormDisable=!0):0==Object.keys(t).length&&(this.inEdit=!1,this.FormDisable=!1),this.Form=this.fb.group({name:[(null==t?void 0:t.name)||"",s.kI.required],abbreviation:[(null==t?void 0:t.abbreviation)||""],logo:[(null==t?void 0:t.logo)||"null"],practiceType:[(null==t?void 0:t.practiceType)||"",s.kI.required],physicalAddress:this.addressFormService.getAddressForm((null==t?void 0:t.physicalAddress)||{}),mailingAddress:this.addressFormService.getAddressForm((null==t?void 0:t.mailingAddress)||{}),insuranceBillingAddress:this.addressFormService.getAddressForm((null==t?void 0:t.insuranceBillingAddress)||{}),contactDetails:this.contactDetailsFormService.getContactDetailsForm((null==t?void 0:t.contactDetails)||{}),contactPerson:this.contactPersonFormService.getContactPersonForm((null==t?void 0:t.contactPerson)||{})}),this.practiceName=null===(n=this.Form.get("name"))||void 0===n?void 0:n.value}save(t){var n,a,l;this.mandAndRequiredFields.forEach(g=>{g.mandSaved=!0}),(null===(n=this.Form)||void 0===n?void 0:n.valid)&&!(null===(a=this.Form)||void 0===a?void 0:a.pristine)&&(this.onSubmit.emit(t),null===(l=this.Form)||void 0===l||l.markAsPristine(),this.alertService.success("Success","Practice has been updated successfully"),this.onboardingServ.setpracticeNotPristine(!1))}cancel(){this.onCancel.emit()}getStaticData(){this.http.get(`${m.k.backend.host}/auth/global-data/static-types`).subscribe({next:t=>{this.staticData=t},error:()=>{},complete:()=>{}})}setAddress(t){var n,a;let l=null===(n=this.Form)||void 0===n?void 0:n.controls.physicalAddress.value;null===(a=this.Form)||void 0===a||a.controls[t].setValue(l)}handleUploadedImage(t){t&&this.Form&&this.Form.controls.logo.setValue(t.url)}scroll(t){t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}getPracticeTypeData(){var t;let n=(null===(t=this.staticData)||void 0===t?void 0:t.practiceType)||[],a=[],l=[{label:"Pediatric dental services",value:"pediatric_dental_services"},{label:"Endodontic procedures",value:"endodontic_procedures"}];l&&l.length>0&&l.map(g=>{g&&(g.dataType="Business Data",a.push(g))}),n&&n.length>0&&n.map(g=>{g&&(l&&l.length>0&&(g.dataType="Global Data"),a.push(g))}),this.practiceTypeData=a}onSectionChange(t){this.currentSelection=t}fieldValidation(t,n){var a=this;return(0,u.Z)(function*(){a.mandAndRequiredFields=a.fieldValidationServ.fieldValidation(t,n,a.Form)})()}checkPermission(){let t=this.globalRoutes.getSettingsOnboardingRoutes(),n=this.searchString.transform("title",t,"Practice");this.practiceEdit=this.searchString.transform("title",n[0].child,"Edit"),this.practiceEdit[0].isEnabled?(this.isSaveButton=!0,this.enableAndDisableInputs(),this.imageUpLoaderDisable=!1):this.practiceEdit.isEnable||(this.isSaveButton=!1)}enableAndDisableInputs(){var t,n;this.inEdit&&(this.isSaveButton?this.isSaveButton&&(null===(n=this.Form)||void 0===n||n.enable(),this.FormDisable=!1):(null===(t=this.Form)||void 0===t||t.disable(),this.FormDisable=!0),this.addressFormService.setDisabledOrEnabled(this.FormDisable),this.contactPersonFormService.setDisabledOrEnabled(this.FormDisable))}inputChanged(t){this.mandAndRequiredFields.forEach(n=>{n.name==t&&(n.mandSaved=!1)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(v.eN),e.Y36(c.W),e.Y36(r.V),e.Y36(d.O),e.Y36(f.c),e.Y36(E.r),e.Y36(h.S),e.Y36(C.y),e.Y36(p.D),e.Y36(D.E),e.Y36(M.o),e.Y36(T.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-practice-form"]],inputs:{title:"title",formData:"formData"},outputs:{onCancel:"onCancel",onSubmit:"onSubmit"},decls:11,vars:4,consts:[[1,"row"],[1,"col-2"],[1,"settings-row","pointer",3,"routerLink"],[1,"bi","bi-arrow-left-circle",2,"font-size","2rem","cursor","pointer"],[1,""],[1,"ul",2,"margin-top","27px"],[4,"ngIf"],[1,"col-10","component-view"],["class","row",4,"ngIf"],[1,"active"],[1,"row","sticky",2,"width","101%"],[3,"ngClass"],[1,"col"],[3,"menuItems","activeClass","cancelBtn","saveBtn","disableSaveBtn","onCancel","onSave"],["class","col-1 d-flex justify-content-center align-items-start","style","background-color: transparent;",4,"ngIf"],[3,"formGroup","submit"],["id","main","scrollSpy","",1,"col-12",3,"sectionChange"],["id","overview",1,"section"],[3,"imageUpLoaderDisable","imageUrl","onUpload"],["id","profile",1,"section"],[1,"heading"],[1,"required"],["type","text","formControlName","name",1,"form-control","mandatory-field",3,"ngClass","input"],["type","text","formControlName","abbreviation",1,"form-control"],["class","col",4,"ngIf"],["id","physicalAddress",1,"section"],[3,"parentGroup","formGroupName"],["id","mailingAddress",1,"section"],["id","insuranceBillingAddress",1,"section"],["id","contactDetails",1,"section"],["id","contactPerson",1,"section"],[1,"col-1","d-flex","justify-content-center","align-items-start",2,"background-color","transparent"],["src","/assets/icons/Edit.svg","alt","",2,"width","37px","height","37px","cursor","pointer",3,"click"],["formControlName","practiceType",1,"mandatory-field",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"p",4),e._uU(5,"Practice"),e.qZA()(),e.TgZ(6,"ul",5),e.YNc(7,Z,3,1,"div",6),e.YNc(8,L,3,0,"div",6),e.qZA()(),e.TgZ(9,"div",7),e.YNc(10,G,50,28,"div",8),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("routerLink",n.urlPractice),e.xp6(5),e.Q6J("ngIf",""!=n.practiceName),e.xp6(1),e.Q6J("ngIf",""==n.practiceName),e.xp6(2),e.Q6J("ngIf",n.Form))},directives:[y.rH,A.O5,A.mk,S.B,s._Y,s.JL,s.sg,x.j,I.$,s.Fj,s.JJ,s.u,F.w9,A.sg,F.jq,U.C,s.x0,B.k,R.Q],styles:["#navbar-pills[_ngcontent-%COMP%]{height:40px;display:grid;grid-template-columns:1fr auto;margin-bottom:10px}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;gap:15px;align-items:center;padding-left:10px;border-radius:6px;white-space:nowrap;overflow-y:auto}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 15px;text-decoration:none;color:#000;line-height:2.6;border-bottom:2px solid transparent}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;border-bottom:2px solid var(--primary);color:var(--primary)!important}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--primary)!important;border-bottom:2px solid var(--primary);font-weight:400}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:transparent;display:flex;gap:5px}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;width:34px}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px}#main[_ngcontent-%COMP%]{height:calc(100vh - 310px);overflow:auto;padding-bottom:5rem}ul[_ngcontent-%COMP%]{font-size:13px;font-weight:700}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:3.2}.component-view[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow-x:hidden;overflow-y:auto}"]}),o})()},842:(O,P,i)=>{i.d(P,{G:()=>C});var u=i(9808),e=i(2382),s=i(84),m=i(7263),v=i(4359),c=i(9495),r=i(4376),d=i(884),f=i(8076),E=i(4996),h=i(5e3);let C=(()=>{class p{}return p.\u0275fac=function(M){return new(M||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[[u.ez,e.u5,e.UX,m.q,v.P,c.$,r.A0,s.B,f.F,d.c,E.Bz]]}),p})()},1887:(O,P,i)=>{i.d(P,{Z:()=>s});var u=i(2382),e=i(5e3);let s=(()=>{class m{constructor(){this.Form=new u.cw({}),this.mandAndRequiredFields=[{name:"name",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"TIN",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"designation",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"title",type:"dropdown",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"firstName",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"lastName",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"email",type:"email",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"type",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"countryCode",type:"number",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"number",type:"number",mandatory:!1,mandSaved:!1,required:!1,valid:!1}]}fieldValidation(c,r,d){var f,E,h,C;let p;return this.Form=d,console.log("forminserices",this.Form),p=r?(null===(f=this.Form.get(c))||void 0===f?void 0:f.valid)&&null!=(null===(E=this.Form.get(c))||void 0===E?void 0:E.value)&&0!=(null===(h=this.Form.get(c))||void 0===h?void 0:h.value):null!=(null===(C=this.Form.get(c))||void 0===C?void 0:C.value),this.mandAndRequiredFields.forEach(D=>{D.name==c&&(D.valid=p)}),this.mandAndRequiredFields}}return m.\u0275fac=function(c){return new(c||m)},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},4889:(O,P,i)=>{i.d(P,{i:()=>m});var u=i(7448),e=i(5e3),s=i(520);let m=(()=>{class v{constructor(r){this.http=r}getPractices(r){return this.http.get(`${u.k.backend.host}/bg/practice`,{headers:{"X-ORG-ID":r}})}getPractice(r,d){return this.http.get(`${u.k.backend.host}/bg/practice/${d}`,{headers:{"X-ORG-ID":r}})}createPractice(r,d){return this.http.post(`${u.k.backend.host}/bg/practice`,d,{headers:{"X-ORG-ID":r}})}updatePractice(r,d,f){return this.http.put(`${u.k.backend.host}/bg/practice/${d}`,f,{headers:{"X-ORG-ID":r}})}deletePractice(r,d){return this.http.delete(`${u.k.backend.host}/bg/practice/${d}`,{headers:{"X-ORG-ID":r}})}}return v.\u0275fac=function(r){return new(r||v)(e.LFG(s.eN))},v.\u0275prov=e.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);