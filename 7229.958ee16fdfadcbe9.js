"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7229],{7229:(I,r,e)=>{e.r(r),e.d(r,{EditLocationModule:()=>L});var d=e(9808),a=e(4996),p=e(7924),o=e(5e3),g=e(7802),h=e(93),v=e(7487);function m(i,s){if(1&i){const t=o.EpF();o.TgZ(0,"div",1)(1,"app-location-form",2),o.NdJ("onCancel",function(){return o.CHM(t),o.oxw().handleCancel()})("onSubmit",function(c){return o.CHM(t),o.oxw().update(c)}),o.qZA()()}if(2&i){const t=o.oxw();o.xp6(1),o.Q6J("title","Edit Location")("formData",t.data)}}const b=[{path:"",component:(()=>{class i{constructor(t,n,c,l){this.router=t,this.activeRoute=n,this.bgDropdownService=c,this.locationService=l,this.bgDropdownSubscription=this.bgDropdownService.businessGroup().subscribe(u=>{u&&(this.selectedBusinessGroup=u,this.getUserOrdID())}),this.bgDropdownService.disable(!0)}ngOnInit(){setTimeout(()=>{this.activeRoute.params.subscribe(t=>{t.id&&(this.id=t.id,this.getLOC(t.id))})},500)}ngOnDestroy(){this.bgDropdownService.disable(!1),this.bgDropdownSubscription.unsubscribe()}getLOC(t){var n;this.bgId||(this.bgId=null===(n=this.selectedBusinessGroup)||void 0===n?void 0:n.bgId),this.selectedBusinessGroup&&t&&this.locationService.getLocation(this.bgId,t).subscribe({next:c=>{this.data=c},error:()=>{}})}update(t){var n;this.bgId||(this.bgId=null===(n=this.selectedBusinessGroup)||void 0===n?void 0:n.bgId),this.id&&this.selectedBusinessGroup&&(t.slug="",this.locationService.updateLocation(this.bgId,this.id,t).subscribe({next:c=>{this.router.navigate(["/dashboard/settings/onboarding/location"])},error:()=>{}}))}handleCancel(){this.router.navigate(["/dashboard/settings/onboarding/location"])}getUserOrdID(){this.bgId=null==localStorage.getItem("selected_business_group")?"intelliveer":null}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(a.F0),o.Y36(a.gz),o.Y36(g.Y),o.Y36(h.a))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-edit-location"]],decls:1,vars:1,consts:[["class","",4,"ngIf"],[1,""],[3,"title","formData","onCancel","onSubmit"]],template:function(t,n){1&t&&o.YNc(0,m,2,2,"div",0),2&t&&o.Q6J("ngIf",n.data)},directives:[d.O5,v.s],styles:[""]}),i})(),canDeactivate:[p.I]}];let f=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[a.Bz.forChild(b)],a.Bz]}),i})();var C=e(8383);let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[d.ez,C.T,f]]}),i})()}}]);