"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[294],{7487:(M,h,o)=>{o.d(h,{s:()=>N});var d=o(531),e=o(5e3),s=o(2382),_=o(9693),v=o(520),c=o(4524),a=o(9516),m=o(9100),g=o(5730),E=o(4540),P=o(192),f=o(4357),C=o(528),u=o(63),D=o(9196),A=o(1887),F=o(4996),b=o(9808),L=o(1762),T=o(5417),S=o(809),U=o(1988),y=o(7842),I=o(9118);function x(r,p){if(1&r&&(e.TgZ(0,"div")(1,"li",9),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.locationName," ")}}function B(r,p){1&r&&(e.TgZ(0,"div")(1,"li",9),e._uU(2," Add Location "),e.qZA()())}function Z(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"div",33)(1,"img",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).checkPermission()}),e.qZA()()}}const R=function(r,p){return{"col-11":r,"col-12":p}},W=function(r,p){return{"mandatory-field-saved":r,"mandatory-field":p}};function K(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",10)(2,"div",11)(3,"div",12)(4,"app-nav-bar-pills",13),e.NdJ("onCancel",function(){return e.CHM(t),e.oxw().cancel()})("onSave",function(){e.CHM(t);const i=e.oxw();return i.save(i.Form.value)}),e.qZA()()(),e.YNc(5,Z,2,0,"div",14),e.qZA(),e.TgZ(6,"form",15,16),e.NdJ("submit",function(){e.CHM(t);const i=e.MAs(7);return e.oxw().save(i.value)}),e.TgZ(8,"div",17),e.NdJ("sectionChange",function(i){return e.CHM(t),e.oxw().onSectionChange(i)}),e.TgZ(9,"div",18)(10,"div",0)(11,"app-image-uploader",19),e.NdJ("onUpload",function(i){return e.CHM(t),e.oxw().handleUploadedImage(i)}),e.qZA()()(),e.TgZ(12,"div",20)(13,"div",0)(14,"h6",21),e._uU(15,"Profile"),e.qZA()(),e.TgZ(16,"div",0)(17,"div",12)(18,"label",22),e._uU(19,"Name"),e.qZA(),e.TgZ(20,"input",23),e.NdJ("input",function(){return e.CHM(t),e.oxw().inputChanged("name")}),e.qZA()(),e.TgZ(21,"div",12)(22,"label",22),e._uU(23,"Abbreviation"),e.qZA(),e._UZ(24,"input",24),e.qZA(),e.TgZ(25,"div",12)(26,"label",22),e._uU(27,"Registration Number"),e.qZA(),e._UZ(28,"input",25),e.qZA(),e.TgZ(29,"div",12)(30,"label",22),e._uU(31,"Time Zone"),e.qZA(),e._UZ(32,"ng-moment-timezone-picker",26),e.qZA()()(),e.TgZ(33,"div",27)(34,"div",0)(35,"h6",21),e._uU(36,"Physical Address"),e.qZA()(),e._UZ(37,"app-address-form",28),e.qZA(),e.TgZ(38,"div",29)(39,"div",0)(40,"h6",21),e._uU(41,"Mailing Address"),e.qZA()(),e._UZ(42,"app-address-form",28),e.qZA(),e.TgZ(43,"div",30)(44,"div",0)(45,"h6",21),e._uU(46,"Insurance Billing / Payment Address"),e.qZA()(),e._UZ(47,"app-address-form",28),e.qZA(),e.TgZ(48,"div",31)(49,"div",0)(50,"h6",21),e._uU(51,"Contact"),e.qZA()(),e._UZ(52,"app-contact-details-form",28),e.qZA(),e.TgZ(53,"div",32)(54,"div",0)(55,"h6",21),e._uU(56,"Contact Person Info"),e.qZA()(),e._UZ(57,"app-contact-person-form",28),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(22,R,!t.isSaveButton,!t.inEdit)),e.xp6(2),e.Q6J("menuItems",t.menuItems)("activeClass",t.currentSelection)("cancelBtn",t.isSaveButton||!t.inEdit)("saveBtn",t.isSaveButton||!t.inEdit)("disableSaveBtn",!1),e.xp6(1),e.Q6J("ngIf",!t.isSaveButton&&t.inEdit),e.xp6(1),e.Q6J("formGroup",t.Form),e.xp6(5),e.Q6J("imageUpLoaderDisable",t.imageUpLoaderDisable)("imageUrl",(null==t.formData?null:t.formData.logo)||""),e.xp6(9),e.Q6J("ngClass",e.WLB(25,W,t.mandAndRequiredFields[0].mandSaved,!t.mandAndRequiredFields[0].mandSaved)),e.xp6(12),e.Q6J("disabled",t.inEdit&&!t.isSaveButton),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","physicalAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","mailingAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","insuranceBillingAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","contactDetails"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","contactPerson")}}let N=(()=>{class r{constructor(t,n,i,l,O,J,G,Y,Q,q,V,z,$){this.fb=t,this.http=n,this.addressFormService=i,this.contactPersonFormService=l,this.contactDetailsFormService=O,this.alertService=J,this.patientUserServ=G,this.addPatientServ=Y,this.insuranceServ=Q,this.onboardingServ=q,this.searchString=V,this.globalRoutes=z,this.fieldValidationServ=$,this.title="",this.formData=void 0,this.onCancel=new e.vpe,this.onSubmit=new e.vpe,this.currentSelection="",this.menuItems=[{title:"Overview",id:"overview"},{title:"Profile",id:"profile"},{title:"Physical Address",id:"physicalAddress"},{title:"Mailing Address",id:"mailingAddress"},{title:"Insurance ",id:"insuranceBillingAddress"},{title:"Contact",id:"contactDetails"},{title:"Contact Person Info",id:"contactPerson"}],this.isSaveButton=!1,this.inEdit=!1,this.imageUpLoaderDisable=!0,this.mandAndRequiredFields=[{name:"name",type:"string",mandSaved:!1,required:!1,valid:!1}]}ngOnInit(){var t=this;return(0,d.Z)(function*(){var n;yield t.initForm(t.formData),t.enableAndDisableInputs(),t.patientUserServ.setFalseAllNotPristine(),t.addPatientServ.setFalseAllNotPristineCWP(),t.insuranceServ.setFalseAllNotPristine(),t.onboardingServ.setFalseAllNotPristine(),null===(n=t.Form)||void 0===n||n.statusChanges.subscribe(i=>{var l,O;!(null===(l=t.Form)||void 0===l?void 0:l.pristine)&&null!=(null===(O=t.Form)||void 0===O?void 0:O.controls.locationTimeZone.value)&&t.onboardingServ.setlocationNotPristine(!0)}),t.urlLocation=t.globalRoutes.getSettingsOnboardingRoutes()[2].url})()}initForm(t){var n=this;return(0,d.Z)(function*(){var i;t=t||{},0!=Object.keys(t).length?(n.inEdit=!0,n.FormDisable=!0):0==Object.keys(t).length&&(n.inEdit=!1,n.FormDisable=!1),n.Form=n.fb.group({name:[(null==t?void 0:t.name)||"",s.kI.required],abbreviation:[(null==t?void 0:t.abbreviation)||""],logo:[(null==t?void 0:t.logo)||"null"],registrationNumber:[(null==t?void 0:t.registrationNumber)||""],locationTimeZone:[(null==t?void 0:t.locationTimeZone)||""],physicalAddress:n.addressFormService.getAddressForm((null==t?void 0:t.physicalAddress)||{},{addressLine1:!0,zipCode:!0,city:!0,state:!0,country:!0}),mailingAddress:n.addressFormService.getAddressForm((null==t?void 0:t.mailingAddress)||{}),insuranceBillingAddress:n.addressFormService.getAddressForm((null==t?void 0:t.insuranceBillingAddress)||{}),contactDetails:n.contactDetailsFormService.getContactDetailsForm((null==t?void 0:t.contactDetails)||{}),contactPerson:n.contactPersonFormService.getContactPersonForm((null==t?void 0:t.contactPerson)||{})}),n.addressFormService.setDisabledOrEnabled(n.FormDisable),n.contactPersonFormService.setDisabledOrEnabled(n.FormDisable),n.locationName=null===(i=n.Form.get("name"))||void 0===i?void 0:i.value})()}save(t){var n,i,l;this.mandAndRequiredFields.forEach(O=>{O.mandSaved=!0}),this.AddressFormComponent.saved(),(null===(n=this.Form)||void 0===n?void 0:n.valid)&&!(null===(i=this.Form)||void 0===i?void 0:i.pristine)&&(this.onSubmit.emit(t),null===(l=this.Form)||void 0===l||l.markAsPristine(),this.alertService.success("Success","Location has been updated successfully"),this.onboardingServ.setlocationNotPristine(!1))}cancel(){this.onCancel.emit()}setAddress(t){var n,i;let l=null===(n=this.Form)||void 0===n?void 0:n.controls.physicalAddress.value;null===(i=this.Form)||void 0===i||i.controls[t].setValue(l)}handleUploadedImage(t){t&&this.Form&&this.Form.controls.logo.setValue(t.url)}onSectionChange(t){this.currentSelection=t}fieldValidation(t,n){var i=this;return(0,d.Z)(function*(){i.mandAndRequiredFields=i.fieldValidationServ.fieldValidation(t,n,i.Form)})()}checkPermission(){let t=this.globalRoutes.getSettingsOnboardingRoutes(),n=this.searchString.transform("title",t,"Location");this.locationEdit=this.searchString.transform("title",n[0].child,"Edit"),this.locationEdit[0].isEnabled?(this.isSaveButton=!0,this.enableAndDisableInputs(),this.imageUpLoaderDisable=!1):this.locationEdit.isEnable||(this.isSaveButton=!1)}enableAndDisableInputs(){var t,n;this.inEdit&&(this.isSaveButton?this.isSaveButton&&(null===(n=this.Form)||void 0===n||n.enable(),this.FormDisable=!1):(null===(t=this.Form)||void 0===t||t.disable(),this.FormDisable=!0),this.addressFormService.setDisabledOrEnabled(this.FormDisable),this.contactPersonFormService.setDisabledOrEnabled(this.FormDisable))}inputChanged(t){this.mandAndRequiredFields.forEach(n=>{n.name==t&&(n.mandSaved=!1)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(v.eN),e.Y36(c.W),e.Y36(a.V),e.Y36(m.O),e.Y36(g.c),e.Y36(E.r),e.Y36(P.S),e.Y36(f.y),e.Y36(C.D),e.Y36(u.E),e.Y36(D.o),e.Y36(A.Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-location-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(_.C,5),2&t){let i;e.iGM(i=e.CRH())&&(n.AddressFormComponent=i.first)}},inputs:{title:"title",formData:"formData"},outputs:{onCancel:"onCancel",onSubmit:"onSubmit"},decls:11,vars:4,consts:[[1,"row"],[1,"col-2"],[1,"settings-row","pointer",3,"routerLink"],[1,"bi","bi-arrow-left-circle",2,"font-size","2rem","cursor","pointer"],[1,""],[1,"ul",2,"margin-top","27px"],[4,"ngIf"],[1,"col-10","component-view"],["class","row",4,"ngIf"],[1,"active"],[1,"row","sticky",2,"width","101%"],[3,"ngClass"],[1,"col"],[3,"menuItems","activeClass","cancelBtn","saveBtn","disableSaveBtn","onCancel","onSave"],["class","col-1 d-flex justify-content-center align-items-start","style","background-color: transparent;",4,"ngIf"],[3,"formGroup","submit"],["f","ngForm"],["id","main","scrollSpy","",1,"col-12",3,"sectionChange"],["id","overview",1,"section"],[3,"imageUpLoaderDisable","imageUrl","onUpload"],["id","profile",1,"section"],[1,"heading"],[1,"required"],["type","text","formControlName","name",1,"form-control","mandatory-field",3,"ngClass","input"],["type","text","formControlName","abbreviation",1,"form-control"],["type","text","formControlName","registrationNumber",1,"form-control"],["formControlName","locationTimeZone",3,"disabled"],["id","physicalAddress",1,"section"],[3,"parentGroup","formGroupName"],["id","mailingAddress",1,"section"],["id","insuranceBillingAddress",1,"section"],["id","contactDetails",1,"section"],["id","contactPerson",1,"section"],[1,"col-1","d-flex","justify-content-center","align-items-start",2,"background-color","transparent"],["src","/assets/icons/Edit.svg","alt","",2,"width","37px","height","37px","cursor","pointer",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"p",4),e._uU(5,"Location"),e.qZA()(),e.TgZ(6,"ul",5),e.YNc(7,x,3,1,"div",6),e.YNc(8,B,3,0,"div",6),e.qZA()(),e.TgZ(9,"div",7),e.YNc(10,K,58,28,"div",8),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("routerLink",n.urlLocation),e.xp6(5),e.Q6J("ngIf",""!=n.locationName),e.xp6(1),e.Q6J("ngIf",""==n.locationName),e.xp6(2),e.Q6J("ngIf",n.Form))},directives:[F.rH,b.O5,b.mk,L.B,s._Y,s.JL,s.sg,T.j,S.$,s.Fj,s.JJ,s.u,U.L2,_.C,s.x0,y.k,I.Q],styles:["#navbar-pills[_ngcontent-%COMP%]{height:40px;display:grid;grid-template-columns:1fr auto;margin-bottom:10px}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;gap:15px;align-items:center;padding-left:10px;border-radius:6px;white-space:nowrap;overflow-y:auto}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 15px;text-decoration:none;color:#000;line-height:2.6;border-bottom:2px solid transparent}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;border-bottom:2px solid var(--primary);color:var(--primary)!important}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--primary)!important;border-bottom:2px solid var(--primary);font-weight:400}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:transparent;display:flex;gap:5px}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;width:34px}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px}#main[_ngcontent-%COMP%]{height:calc(100vh - 310px);overflow:auto;padding-bottom:5rem}ul[_ngcontent-%COMP%]{font-size:13px;font-weight:700}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:3.2}.component-view[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow-x:hidden;overflow-y:auto}"]}),r})()},8383:(M,h,o)=>{o.d(h,{T:()=>C});var d=o(9808),e=o(2382),s=o(84),_=o(7263),v=o(9495),c=o(4359),a=o(4376),m=o(884),g=o(8076),E=o(1988),P=o(4996),f=o(5e3);let C=(()=>{class u{}return u.\u0275fac=function(A){return new(A||u)},u.\u0275mod=f.oAB({type:u}),u.\u0275inj=f.cJS({imports:[[d.ez,e.u5,e.UX,_.q,v.$,c.P,a.A0,s.B,g.F,m.c,E.Gg,P.Bz]]}),u})()},1887:(M,h,o)=>{o.d(h,{Z:()=>s});var d=o(2382),e=o(5e3);let s=(()=>{class _{constructor(){this.Form=new d.cw({}),this.mandAndRequiredFields=[{name:"name",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"TIN",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"designation",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"title",type:"dropdown",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"firstName",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"lastName",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"email",type:"email",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"type",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"countryCode",type:"number",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"number",type:"number",mandatory:!1,mandSaved:!1,required:!1,valid:!1}]}fieldValidation(c,a,m){var g,E,P,f;let C;return this.Form=m,console.log("forminserices",this.Form),C=a?(null===(g=this.Form.get(c))||void 0===g?void 0:g.valid)&&null!=(null===(E=this.Form.get(c))||void 0===E?void 0:E.value)&&0!=(null===(P=this.Form.get(c))||void 0===P?void 0:P.value):null!=(null===(f=this.Form.get(c))||void 0===f?void 0:f.value),this.mandAndRequiredFields.forEach(u=>{u.name==c&&(u.valid=C)}),this.mandAndRequiredFields}}return _.\u0275fac=function(c){return new(c||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},93:(M,h,o)=>{o.d(h,{a:()=>_});var d=o(7448),e=o(5e3),s=o(520);let _=(()=>{class v{constructor(a){this.http=a}getLocations(a){return this.http.get(`${d.k.backend.host}/bg/location`,{headers:{"X-ORG-ID":a}})}getLocation(a,m){return this.http.get(`${d.k.backend.host}/bg/location/${m}`,{headers:{"X-ORG-ID":a}})}createLocation(a,m){return this.http.post(`${d.k.backend.host}/bg/location`,m,{headers:{"X-ORG-ID":a}})}updateLocation(a,m,g){return this.http.put(`${d.k.backend.host}/bg/location/${m}`,g,{headers:{"X-ORG-ID":a}})}deleteLocation(a,m){return this.http.delete(`${d.k.backend.host}/bg/location/${m}`,{headers:{"X-ORG-ID":a}})}}return v.\u0275fac=function(a){return new(a||v)(e.LFG(s.eN))},v.\u0275prov=e.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);