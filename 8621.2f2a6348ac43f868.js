"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[8621],{8621:(I,r,o)=>{o.r(r),o.d(r,{EditLegalEntityModule:()=>L});var d=o(9808),a=o(4996),u=o(7924),p=o(531),e=o(5e3),h=o(7802),E=o(5928),v=o(3868);function y(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"app-legal-entity-form",2),e.NdJ("onCancel",function(){return e.CHM(t),e.oxw().handleCancel()})("onSubmit",function(l){return e.CHM(t),e.oxw().update(l)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("title","Edit Legal Entity")("formData",t.data)}}const m=[{path:"",component:(()=>{class i{constructor(t,n,l,c){this.router=t,this.activeRoute=n,this.bgDropdownService=l,this.legalEntityService=c,this.bgDropdownSubscription=this.bgDropdownService.businessGroup().subscribe(g=>{g&&(this.selectedBusinessGroup=g,this.getUserOrdID())}),this.bgDropdownService.disable(!0)}ngOnInit(){var t=this;return(0,p.Z)(function*(){setTimeout(()=>{t.activeRoute.params.subscribe(n=>{n.id&&(t.id=n.id,t.getLE(n.id))})},500)})()}ngOnDestroy(){this.bgDropdownService.disable(!1),this.bgDropdownSubscription.unsubscribe()}getLE(t){var n;this.bgId||(this.bgId=null===(n=this.selectedBusinessGroup)||void 0===n?void 0:n.bgId),this.selectedBusinessGroup&&t&&this.legalEntityService.getLegalEntity(this.bgId,t).subscribe({next:l=>{this.data=l},error:()=>{}})}update(t){var n;this.bgId||(this.bgId=null===(n=this.selectedBusinessGroup)||void 0===n?void 0:n.bgId),this.id&&this.selectedBusinessGroup&&(t.slug="",this.legalEntityService.updateLegalEntity(this.bgId,this.id,t).subscribe({next:l=>{this.router.navigate(["/dashboard/settings/onboarding/legal-entity"])},error:()=>{}}))}handleCancel(){this.router.navigate(["/dashboard/settings/onboarding/legal-entity"])}getUserOrdID(){this.bgId=null==localStorage.getItem("selected_business_group")?"intelliveer":null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.F0),e.Y36(a.gz),e.Y36(h.Y),e.Y36(E.N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-legal-entity"]],decls:1,vars:1,consts:[["class","",4,"ngIf"],[1,""],[3,"title","formData","onCancel","onSubmit"]],template:function(t,n){1&t&&e.YNc(0,y,2,2,"div",0),2&t&&e.Q6J("ngIf",n.data)},directives:[d.O5,v.m],styles:[""]}),i})(),canDeactivate:[u.I]}];let b=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[a.Bz.forChild(m)],a.Bz]}),i})();var f=o(9065);let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.ez,f.a,b]]}),i})()}}]);