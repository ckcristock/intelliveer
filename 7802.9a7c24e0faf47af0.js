"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7802],{3868:(O,f,n)=>{n.d(f,{m:()=>q});var h=n(531),e=n(5e3),s=n(2382),_=n(520),E=n(4524),d=n(9516),C=n(9100),P=n(703),v=n(5730),u=n(4540),m=n(192),g=n(4357),a=n(528),p=n(63),y=n(9196),b=n(1887),T=n(4996),A=n(9808),S=n(1762),U=n(5417),L=n(809),D=n(4376),Z=n(9693),x=n(7842),I=n(9118);function B(r,l){if(1&r&&(e.TgZ(0,"div")(1,"li",9),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.legalEntityName," ")}}function R(r,l){1&r&&(e.TgZ(0,"div")(1,"li",9),e._uU(2," Add Legal Entity "),e.qZA()())}function N(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"div",43)(1,"img",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).checkPermission()}),e.qZA()()}}function W(r,l){if(1&r&&(e.TgZ(0,"ng-option",45),e._uU(1),e.qZA()),2&r){const t=l.$implicit;e.Q6J("value",t.iso3),e.xp6(1),e.hij("",t.name," ")}}const K=function(r,l){return{"col-11":r,"col-12":l}},F=function(r,l){return{"mandatory-field-saved":r,"mandatory-field":l}};function J(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",10)(2,"div",11)(3,"div",12)(4,"app-nav-bar-pills",13),e.NdJ("onCancel",function(){return e.CHM(t),e.oxw().cancel()})("onSave",function(){e.CHM(t);const o=e.oxw();return o.save(o.Form.value)}),e.qZA()()(),e.YNc(5,N,2,0,"div",14),e.qZA(),e.TgZ(6,"form",15,16),e.NdJ("submit",function(){e.CHM(t);const o=e.MAs(7);return e.oxw().save(o.value)}),e.TgZ(8,"div",17),e.NdJ("sectionChange",function(o){return e.CHM(t),e.oxw().onSectionChange(o)}),e.TgZ(9,"div",18)(10,"div",0)(11,"app-image-uploader",19),e.NdJ("onUpload",function(o){return e.CHM(t),e.oxw().handleUploadedImage(o)}),e.qZA()()(),e.TgZ(12,"div",20)(13,"div",0)(14,"h6",21),e._uU(15,"Profile"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",12)(18,"label",23),e._uU(19,"Legal Entity Name"),e.qZA(),e.TgZ(20,"input",24),e.NdJ("input",function(){return e.CHM(t),e.oxw().inputChanged("name")}),e.qZA()(),e.TgZ(21,"div",12)(22,"label",23),e._uU(23,"Abbreviation"),e.qZA(),e._UZ(24,"input",25),e.qZA(),e.TgZ(25,"div",12)(26,"label",23),e._uU(27,"TIN"),e.qZA(),e.TgZ(28,"input",26),e.NdJ("input",function(){return e.CHM(t),e.oxw().inputChanged("TIN")}),e.qZA()()(),e.TgZ(29,"div",22)(30,"div",27)(31,"label",23),e._uU(32,"Country"),e.qZA(),e.TgZ(33,"ng-select",28),e.YNc(34,W,2,2,"ng-option",29),e.qZA()(),e.TgZ(35,"div",27)(36,"label",23),e._uU(37,"Currency"),e.qZA(),e.TgZ(38,"ng-select",30)(39,"ng-option",31),e._uU(40," USD "),e.qZA()()()(),e.TgZ(41,"div",22)(42,"div",27)(43,"label",23),e._uU(44,"Is Legal Entity also Legal Employer?"),e.qZA(),e.TgZ(45,"div",32)(46,"label",33),e._UZ(47,"input",34),e._uU(48,"\xa0Yes "),e.qZA(),e.TgZ(49,"label",33),e._UZ(50,"input",35),e._uU(51,"\xa0No "),e.qZA()()(),e.TgZ(52,"div",27)(53,"label",23),e._uU(54,"Employer ID"),e.qZA(),e._UZ(55,"input",36),e.qZA()()(),e.TgZ(56,"div",37)(57,"div",0)(58,"h6",21),e._uU(59,"Physical Address"),e.qZA()(),e._UZ(60,"app-address-form",38),e.qZA(),e.TgZ(61,"div",39)(62,"div",0)(63,"h6",21),e._uU(64,"Mailing Address"),e.qZA()(),e._UZ(65,"app-address-form",38),e.qZA(),e.TgZ(66,"div",40)(67,"div",0)(68,"h6",21),e._uU(69,"Insurance Billing / Payment Address"),e.qZA()(),e._UZ(70,"app-address-form",38),e.qZA(),e.TgZ(71,"div",41)(72,"div",0)(73,"h6",21),e._uU(74,"Contact"),e.qZA()(),e._UZ(75,"app-contact-details-form",38),e.qZA(),e.TgZ(76,"div",42)(77,"div",0)(78,"h6",21),e._uU(79,"Contact Person Info"),e.qZA()(),e._UZ(80,"app-contact-person-form",38),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.WLB(23,K,!t.isSaveButton,!t.inEdit)),e.xp6(2),e.Q6J("menuItems",t.menuItems)("activeClass",t.currentSelection)("cancelBtn",t.isSaveButton||!t.inEdit)("saveBtn",t.isSaveButton||!t.inEdit)("disableSaveBtn",!1),e.xp6(1),e.Q6J("ngIf",!t.isSaveButton&&t.inEdit),e.xp6(1),e.Q6J("formGroup",t.Form),e.xp6(5),e.Q6J("imageUpLoaderDisable",t.imageUpLoaderDisable)("imageUrl",(null==t.formData?null:t.formData.logo)||""),e.xp6(9),e.Q6J("ngClass",e.WLB(26,F,t.mandAndRequiredFields[0].mandSaved,!t.mandAndRequiredFields[0].mandSaved)),e.xp6(8),e.Q6J("ngClass",e.WLB(29,F,t.mandAndRequiredFields[1].mandSaved,!t.mandAndRequiredFields[1].mandSaved)),e.xp6(6),e.Q6J("ngForOf",t.countries),e.xp6(26),e.Q6J("parentGroup",t.Form)("formGroupName","physicalAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","mailingAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","insuranceBillingAddress"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","contactDetails"),e.xp6(5),e.Q6J("parentGroup",t.Form)("formGroupName","contactPerson")}}let q=(()=>{class r{constructor(t,i,o,c,M,Y,Q,G,j,V,w,H,z,$){this.fb=t,this.http=i,this.addressFormService=o,this.contactPersonFormService=c,this.contactDetailsFormService=M,this.geoService=Y,this.alertService=Q,this.patientUserServ=G,this.addPatientServ=j,this.insuranceServ=V,this.onboardingServ=w,this.searchString=H,this.globalRoutes=z,this.fieldValidationServ=$,this.title="",this.formData=void 0,this.onCancel=new e.vpe,this.onSubmit=new e.vpe,this.currentSelection="",this.menuItems=[{title:"Overview",id:"overview"},{title:"Profile",id:"profile"},{title:"Physical Address",id:"physicalAddress"},{title:"Mailing Address",id:"mailingAddress"},{title:"Insurance ",id:"insuranceBillingAddress"},{title:"Contact",id:"contactDetails"},{title:"Contact Person Info",id:"contactPerson"}],this.isSaveButton=!1,this.inEdit=!1,this.imageUpLoaderDisable=!0,this.mandAndRequiredFields=[{name:"name",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"TIN",type:"string",mandSaved:!1,required:!1,valid:!1}],this.getCountries()}ngOnInit(){var t;this.initForm(this.formData),this.enableAndDisableInputs(),this.patientUserServ.setFalseAllNotPristine(),this.addPatientServ.setFalseAllNotPristineCWP(),this.insuranceServ.setFalseAllNotPristine(),this.onboardingServ.setFalseAllNotPristine(),null===(t=this.Form)||void 0===t||t.statusChanges.subscribe(i=>{var o;(null===(o=this.Form)||void 0===o?void 0:o.pristine)||this.onboardingServ.setlegalEntityBenfNotPristine(!0)}),this.urlLegalEntity=this.globalRoutes.getSettingsOnboardingRoutes()[1].url}save(t){var i,o,c;this.mandAndRequiredFields.forEach(M=>{M.mandSaved=!0}),(null===(i=this.Form)||void 0===i?void 0:i.valid)&&!(null===(o=this.Form)||void 0===o?void 0:o.pristine)&&(this.onSubmit.emit(t),null===(c=this.Form)||void 0===c||c.markAsPristine(),this.alertService.success("Success","Legal Entity has been updated successfully"),this.onboardingServ.setlegalEntityBenfNotPristine(!1))}cancel(){this.onCancel.emit()}initForm(t){var i;t=t||{},0!=Object.keys(t).length?(this.inEdit=!0,this.FormDisable=!0):0==Object.keys(t).length&&(this.inEdit=!1,this.FormDisable=!1),this.Form=this.fb.group({logo:[(null==t?void 0:t.logo)||"null"],name:[(null==t?void 0:t.name)||"",s.kI.required],abbreviation:[(null==t?void 0:t.abbreviation)||""],TIN:[(null==t?void 0:t.TIN)||"",s.kI.required],country:[(null==t?void 0:t.country)||""],currency:[(null==t?void 0:t.currency)||""],isLegalEmployer:[(null==t?void 0:t.isLegalEmployer)||"yes"],employerId:[(null==t?void 0:t.employerId)||""],physicalAddress:this.addressFormService.getAddressForm((null==t?void 0:t.physicalAddress)||{}),mailingAddress:this.addressFormService.getAddressForm((null==t?void 0:t.mailingAddress)||{}),insuranceBillingAddress:this.addressFormService.getAddressForm((null==t?void 0:t.insuranceBillingAddress)||{}),contactDetails:this.contactDetailsFormService.getContactDetailsForm((null==t?void 0:t.contactDetails)||{}),contactPerson:this.contactPersonFormService.getContactPersonForm((null==t?void 0:t.contactPerson)||{})}),this.addressFormService.setDisabledOrEnabled(this.FormDisable),this.contactPersonFormService.setDisabledOrEnabled(this.FormDisable),this.legalEntityName=null===(i=this.Form.get("name"))||void 0===i?void 0:i.value}fieldValidation(t,i){var o=this;return(0,h.Z)(function*(){o.mandAndRequiredFields=o.fieldValidationServ.fieldValidation(t,i,o.Form)})()}setAddress(t){var i,o;let c=null===(i=this.Form)||void 0===i?void 0:i.controls.physicalAddress.value;null===(o=this.Form)||void 0===o||o.controls[t].setValue(c)}handleUploadedImage(t){t&&this.Form&&this.Form.controls.logo.setValue(t.url)}getCountries(){this.geoService.getCountries().subscribe({next:t=>{this.countries=t}})}onSectionChange(t){this.currentSelection=t}checkPermission(){let t=this.globalRoutes.getSettingsOnboardingRoutes(),i=this.searchString.transform("title",t,"Legal Entity");this.legalEdit=this.searchString.transform("title",i[0].child,"Edit"),this.legalEdit[0].isEnabled?(this.isSaveButton=!0,this.enableAndDisableInputs(),this.imageUpLoaderDisable=!1):this.legalEdit.isEnable||(this.isSaveButton=!1)}enableAndDisableInputs(){var t,i;this.inEdit&&(this.isSaveButton?this.isSaveButton&&(null===(i=this.Form)||void 0===i||i.enable(),this.FormDisable=!1):(null===(t=this.Form)||void 0===t||t.disable(),this.FormDisable=!0),this.addressFormService.setDisabledOrEnabled(this.FormDisable),this.contactPersonFormService.setDisabledOrEnabled(this.FormDisable))}inputChanged(t){this.mandAndRequiredFields.forEach(i=>{i.name==t&&(i.mandSaved=!1)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(_.eN),e.Y36(E.W),e.Y36(d.V),e.Y36(C.O),e.Y36(P.p),e.Y36(v.c),e.Y36(u.r),e.Y36(m.S),e.Y36(g.y),e.Y36(a.D),e.Y36(p.E),e.Y36(y.o),e.Y36(b.Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-legal-entity-form"]],inputs:{title:"title",formData:"formData"},outputs:{onCancel:"onCancel",onSubmit:"onSubmit"},decls:11,vars:4,consts:[[1,"row"],[1,"col-2"],[1,"settings-row","pointer",3,"routerLink"],[1,"bi","bi-arrow-left-circle",2,"font-size","2rem","cursor","pointer"],[1,""],[1,"ul",2,"margin-top","27px"],[4,"ngIf"],[1,"col-10","component-view"],["class","row",4,"ngIf"],[1,"active"],[1,"row","sticky",2,"width","101%"],[3,"ngClass"],[1,"col"],[3,"menuItems","activeClass","cancelBtn","saveBtn","disableSaveBtn","onCancel","onSave"],["class","col-1 d-flex justify-content-center align-items-start","style","background-color: transparent;",4,"ngIf"],[3,"formGroup","submit"],["f","ngForm"],["id","main","scrollSpy","",1,"col-12",3,"sectionChange"],["id","overview",1,"section"],[3,"imageUpLoaderDisable","imageUrl","onUpload"],["id","profile",1,"section"],[1,"heading"],[1,"row","mb-3"],[1,"required"],["type","text","formControlName","name",1,"form-control","mandatory-field",3,"ngClass","input"],["type","text","formControlName","abbreviation",1,"form-control"],["type","text","formControlName","TIN",1,"form-control","mandatory-field",3,"ngClass","input"],[1,"col-4"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","currency","placeholder","Select"],["value","usd"],[1,"d-flex","gap-4","pt-3"],["for",""],["type","radio","name","","formControlName","isLegalEmployer","value","yes"],["type","radio","name","","formControlName","isLegalEmployer","value","no"],["type","text","formControlName","employerId",1,"form-control"],["id","physicalAddress",1,"section"],[3,"parentGroup","formGroupName"],["id","mailingAddress",1,"section"],["id","insuranceBillingAddress",1,"section"],["id","contactDetails",1,"section"],["id","contactPerson",1,"section"],[1,"col-1","d-flex","justify-content-center","align-items-start",2,"background-color","transparent"],["src","/assets/icons/Edit.svg","alt","",2,"width","37px","height","37px","cursor","pointer",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"p",4),e._uU(5,"Legal Entity"),e.qZA()(),e.TgZ(6,"ul",5),e.YNc(7,B,3,1,"div",6),e.YNc(8,R,3,0,"div",6),e.qZA()(),e.TgZ(9,"div",7),e.YNc(10,J,81,32,"div",8),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("routerLink",i.urlLegalEntity),e.xp6(5),e.Q6J("ngIf",""!=i.legalEntityName),e.xp6(1),e.Q6J("ngIf",""==i.legalEntityName),e.xp6(2),e.Q6J("ngIf",i.Form))},directives:[T.rH,A.O5,A.mk,S.B,s._Y,s.JL,s.sg,U.j,L.$,s.Fj,s.JJ,s.u,D.w9,A.sg,D.jq,s._,Z.C,s.x0,x.k,I.Q],styles:["#navbar-pills[_ngcontent-%COMP%]{height:40px;display:grid;grid-template-columns:1fr auto;margin-bottom:10px}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;gap:15px;align-items:center;padding-left:10px;border-radius:6px;white-space:nowrap;overflow-y:auto}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 15px;text-decoration:none;color:#000;line-height:2.6;border-bottom:2px solid transparent}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;border-bottom:2px solid var(--primary);color:var(--primary)!important}#navbar-pills[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--primary)!important;border-bottom:2px solid var(--primary);font-weight:400}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:transparent;display:flex;gap:5px}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;width:34px}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}#navbar-pills[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38px}#main[_ngcontent-%COMP%]{height:calc(100vh - 310px);overflow:auto;padding-bottom:5rem}#main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-bottom:5px}ul[_ngcontent-%COMP%]{font-size:13px;font-weight:700}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:3.2}.component-view[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow-x:hidden;overflow-y:auto}"]}),r})()},9065:(O,f,n)=>{n.d(f,{a:()=>g});var h=n(9808),e=n(2382),s=n(84),_=n(7263),E=n(9495),d=n(4359),C=n(4376),P=n(884),v=n(8076),u=n(4996),m=n(5e3);let g=(()=>{class a{}return a.\u0275fac=function(y){return new(y||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[h.ez,e.u5,e.UX,_.q,E.$,d.P,s.B,C.A0,v.F,P.c,u.Bz]]}),a})()},1887:(O,f,n)=>{n.d(f,{Z:()=>s});var h=n(2382),e=n(5e3);let s=(()=>{class _{constructor(){this.Form=new h.cw({}),this.mandAndRequiredFields=[{name:"name",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"TIN",type:"string",mandSaved:!1,required:!1,valid:!1},{name:"designation",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"title",type:"dropdown",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"firstName",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"lastName",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"email",type:"email",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"type",type:"string",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"countryCode",type:"number",mandatory:!1,mandSaved:!1,required:!1,valid:!1},{name:"number",type:"number",mandatory:!1,mandSaved:!1,required:!1,valid:!1}]}fieldValidation(d,C,P){var v,u,m,g;let a;return this.Form=P,console.log("forminserices",this.Form),a=C?(null===(v=this.Form.get(d))||void 0===v?void 0:v.valid)&&null!=(null===(u=this.Form.get(d))||void 0===u?void 0:u.value)&&0!=(null===(m=this.Form.get(d))||void 0===m?void 0:m.value):null!=(null===(g=this.Form.get(d))||void 0===g?void 0:g.value),this.mandAndRequiredFields.forEach(p=>{p.name==d&&(p.valid=a)}),this.mandAndRequiredFields}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);