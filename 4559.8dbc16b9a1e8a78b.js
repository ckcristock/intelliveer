"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4559],{7924:(f,v,r)=>{r.d(v,{I:()=>s});var o=r(5e3),t=r(2651),a=r(192),_=r(4357),m=r(528),i=r(4540);let s=(()=>{class n{constructor(P,g,b,p,M){this.canDeactivateRouteService=P,this.addPatientServ=g,this.insuranceServ=b,this.onboardingServ=p,this.patientUserServ=M,this.conditions=[]}ngOnInit(){}canActivate(P,g){return!0}canDeactivate(P,g,b,p){this.conditions=[],localStorage.setItem("sendRedirectObj",null==p?void 0:p.url),this.addPatientServ.setConditions(),this.insuranceServ.setConditions(),this.onboardingServ.setConditions(),this.patientUserServ.setConditions(),this.conditions=this.addPatientServ.getConditions(),this.conditions.push(...this.insuranceServ.getConditions()),this.conditions.push(...this.onboardingServ.getConditions()),this.conditions.push(...this.patientUserServ.getConditions()),console.log("this.conditions",this.conditions);for(let S=0;S<this.conditions.length;S++)if(this.conditions[S].condition)return this.canDeactivateRouteService.openDialog(),this.canDeactivateRouteService.modalChoice$;return!0}}return n.\u0275fac=function(P){return new(P||n)(o.LFG(t.d),o.LFG(a.S),o.LFG(_.y),o.LFG(m.D),o.LFG(i.r))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},7263:(f,v,r)=>{r.d(v,{q:()=>m});var o=r(9808),t=r(2382),a=r(4376),_=r(5e3);let m=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=_.oAB({type:i}),i.\u0275inj=_.cJS({imports:[[o.ez,t.u5,t.UX,a.A0]]}),i})()},7429:(f,v,r)=>{r.d(v,{l:()=>A});var o=r(531),t=r(5e3),a=r(2382),_=r(7448),m=r(520),i=r(4524),s=r(4540),n=r(192),y=r(4357),P=r(528),g=r(5730),b=r(9516),p=r(9808),M=r(1762),S=r(5417),E=r(809),N=r(4376);function O(u,h){if(1&u){const e=t.EpF();t.TgZ(0,"div",25)(1,"img",26),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).checkPermission()}),t.qZA()()}}function D(u,h){if(1&u&&(t.TgZ(0,"ng-option",24),t._uU(1),t.qZA()),2&u){const e=h.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function I(u,h){if(1&u&&(t.TgZ(0,"ng-option",24),t._uU(1),t.qZA()),2&u){const e=h.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}const C=function(u,h){return{"col-11":u,"col-12":h}};function T(u,h){if(1&u){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-nav-bar-pills",5),t.NdJ("onCancel",function(){return t.CHM(e),t.oxw().cancel()})("onSave",function(){t.CHM(e);const c=t.oxw();return c.save(c.Form.value)}),t.qZA()()(),t.YNc(5,O,2,0,"div",6),t.qZA(),t.TgZ(6,"form",7,8),t.NdJ("submit",function(){t.CHM(e);const c=t.MAs(7);return t.oxw().save(c.value)}),t.TgZ(8,"div",9),t.NdJ("sectionChange",function(c){return t.CHM(e),t.oxw().onSectionChange(c)}),t.TgZ(9,"div",10)(10,"div",1)(11,"div",11)(12,"app-image-uploader",12),t.NdJ("onUpload",function(c){return t.CHM(e),t.oxw().handleUploadedImage(c)}),t.qZA()()()(),t.TgZ(13,"div",13)(14,"h6",14),t._uU(15,"Profile"),t.qZA(),t.TgZ(16,"div",1)(17,"div",4)(18,"label",15),t._uU(19,"Title"),t.qZA(),t.TgZ(20,"ng-select",16),t.YNc(21,D,2,2,"ng-option",17),t.qZA()(),t.TgZ(22,"div",4)(23,"label",15),t._uU(24,"First Name"),t.qZA(),t._UZ(25,"input",18),t.qZA(),t.TgZ(26,"div",4)(27,"label",15),t._uU(28,"Middle Name"),t.qZA(),t._UZ(29,"input",19),t.qZA(),t.TgZ(30,"div",4)(31,"label",15),t._uU(32,"Last Name"),t.qZA(),t._UZ(33,"input",20),t.qZA()(),t.TgZ(34,"div",1)(35,"div",4)(36,"label",15),t._uU(37,"Date of Birth"),t.qZA(),t._UZ(38,"input",21),t.qZA(),t.TgZ(39,"div",4)(40,"label",15),t._uU(41,"Gender"),t.qZA(),t.TgZ(42,"ng-select",22),t.YNc(43,I,2,2,"ng-option",17),t.qZA()(),t.TgZ(44,"div",4)(45,"label",15),t._uU(46,"Relationship with Patient"),t.qZA(),t.TgZ(47,"ng-select",23)(48,"ng-option",24),t._uU(49),t.qZA()()(),t._UZ(50,"div",4),t.qZA()()()()()}if(2&u){const e=t.oxw();t.xp6(2),t.Q6J("ngClass",t.WLB(15,C,!e.isSaveButton,!e.inEdit)),t.xp6(2),t.Q6J("menuItems",e.menuItems)("activeClass",e.currentSelection)("cancelBtn",e.isSaveButton||!e.inEdit)("saveBtn",e.isSaveButton||!e.inEdit)("disableSaveBtn",!1),t.xp6(1),t.Q6J("ngIf",!e.isSaveButton&&e.inEdit),t.xp6(1),t.Q6J("formGroup",e.Form),t.xp6(6),t.Q6J("imageUrl",(null==e.formData?null:e.formData.logo)||""),t.xp6(9),t.Q6J("ngForOf",e.famiMembTitle.title),t.xp6(17),t.ekj("valid-required-field",e.fieldValidation("DOB")),t.xp6(5),t.Q6J("ngForOf",e.genders),t.xp6(5),t.Q6J("value",e.relationship),t.xp6(1),t.hij(" ",e.relationship," ")}}let A=(()=>{class u{constructor(e,l,c,d,F,U,B,Z,L){this.http=e,this.fb=l,this.addressFormService=c,this.patientUserServ=d,this.addPatientServ=F,this.insuranceServ=U,this.onboardingServ=B,this.alertService=Z,this.contactPersonFormService=L,this.Form=new a.cw({}),this.title="",this.formData=void 0,this.onCancel=new t.vpe,this.onSubmit=new t.vpe,this.currentSelection="",this.menuItems=[{title:"Overview",id:"overview"},{title:"Profile",id:"profile"}],this.genders=[{label:"Male",value:"M"},{label:"Female",value:"F"}],this.familyMember=[],this.isSaveButton=!1,this.inEdit=!1,this.idForm=this.fb.group({info:this.fb.array([])}),this.getStaticData()}ngOnInit(){var e=this;return(0,o.Z)(function*(){var l;e.initForm(e.formData),e.enableAndDisableInputs(),e.patientUserServ.setFalseAllNotPristine(),e.addPatientServ.setFalseAllNotPristineCWP(),e.insuranceServ.setFalseAllNotPristine(),e.onboardingServ.setFalseAllNotPristine(),null===(l=e.Form)||void 0===l||l.statusChanges.subscribe(c=>{var d;(null===(d=e.Form)||void 0===d?void 0:d.pristine)||e.patientUserServ.setFamilyMembNotPristine(!0)}),e.familyMember.push(yield e.patientUserServ.getFamylMembFamylMemb()),e.relationship=yield e.patientUserServ.getFamylMembToPati(),e.Form.controls.relationship.setValue(e.relationship),e.Form.controls.firstName.setValue(e.familyMember[0].firstName),e.Form.controls.middleName.setValue(e.familyMember[0].middleName),e.Form.controls.lastName.setValue(e.familyMember[0].lastName),e.Form.controls.DOB.setValue(e.familyMember[0].DOB),e.Form.controls.gender.setValue(e.familyMember[0].gender),e.Form.controls.pronoun.setValue(e.familyMember[0].prefePronoun),e.Form.controls.language.setValue(e.familyMember[0].language),e.Form.controls.maried.setValue(e.familyMember[0].maritalStatus)})()}initForm(e){e=e||{},0!=Object.keys(e).length?(this.inEdit=!0,this.FormDisable=!0):0==Object.keys(e).length&&(this.inEdit=!1,this.FormDisable=!1),this.Form=this.fb.group({title:[(null==e?void 0:e.title)||""],firstName:[(null==e?void 0:e.firstName)||"",[a.kI.required,a.kI.pattern("[A-Za-z]+[0-9]|[0-9]+[A-Za-z]|[A-Za-z]")]],middleName:[(null==e?void 0:e.middleName)||""],lastName:[(null==e?void 0:e.lastName)||"",[a.kI.required,a.kI.pattern("[A-Za-z]+[0-9]|[0-9]+[A-Za-z]|[A-Za-z]")]],DOB:[(null==e?void 0:e.DOB)||""],gender:[(null==e?void 0:e.gender)||""],pronoun:[(null==e?void 0:e.pronoun)||""],relationship:[(null==e?void 0:e.relation)||""]}),this.addressFormService.setDisabledOrEnabled(this.FormDisable),this.contactPersonFormService.setDisabledOrEnabled(this.FormDisable)}fieldValidation(e,l){var c,d,F;return l?(null===(c=this.Form.get(e))||void 0===c?void 0:c.valid)&&null!=(null===(d=this.Form.get(e))||void 0===d?void 0:d.value):null!=(null===(F=this.Form.get(e))||void 0===F?void 0:F.value)}getStaticData(){var e=this;return(0,o.Z)(function*(){var l;e.http.get(`${_.k.backend.host}/auth/global-data/static-types`).subscribe({next:(l=(0,o.Z)(function*(c){e.famiMembTitle=c}),function(d){return l.apply(this,arguments)}),error:()=>{},complete:()=>{}})})()}save(e){var l;(null===(l=this.Form)||void 0===l?void 0:l.valid)&&!this.Form.pristine&&(this.onSubmit.emit(e),this.patientUserServ.setFamyMemb(e),this.patientUserServ.setPatientFamiMemb(e.relationship,e),this.Form.markAsPristine(),this.alertService.success("Success","Family Members has been updated successfully"),this.patientUserServ.setFamilyMembNotPristine(!1))}cancel(){this.onCancel.emit()}onSectionChange(e){this.currentSelection=e}setAddress(e){var l,c;let d=null===(l=this.Form)||void 0===l?void 0:l.controls.physicalAddress.value;null===(c=this.Form)||void 0===c||c.controls[e].setValue(d)}handleUploadedImage(e){e&&this.idForm&&this.idForm.controls.logo.setValue(e.url)}checkPermission(){this.isSaveButton=!0,this.enableAndDisableInputs()}enableAndDisableInputs(){var e,l;this.inEdit&&(this.isSaveButton?this.isSaveButton&&(null===(l=this.Form)||void 0===l||l.enable(),this.FormDisable=!1):(null===(e=this.Form)||void 0===e||e.disable(),this.FormDisable=!0),this.addressFormService.setDisabledOrEnabled(this.FormDisable),this.contactPersonFormService.setDisabledOrEnabled(this.FormDisable))}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(m.eN),t.Y36(a.qu),t.Y36(i.W),t.Y36(s.r),t.Y36(n.S),t.Y36(y.y),t.Y36(P.D),t.Y36(g.c),t.Y36(b.V))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-family-member-form"]],inputs:{title:"title",formData:"formData"},outputs:{onCancel:"onCancel",onSubmit:"onSubmit"},decls:1,vars:1,consts:[["class","row formrow",4,"ngIf"],[1,"row","formrow"],[1,"row","sticky",2,"width","101%"],[3,"ngClass"],[1,"col"],[3,"menuItems","activeClass","cancelBtn","saveBtn","disableSaveBtn","onCancel","onSave"],["class","col-1 d-flex justify-content-center align-items-start","style","background-color: transparent;",4,"ngIf"],["autocomplete","off",3,"formGroup","submit"],["f","ngForm"],["id","main","scrollSpy","",1,"col-12",3,"sectionChange"],["id","overview",1,"section"],[1,"col-sm"],[3,"imageUrl","onUpload"],["id","profile",1,"section"],[1,"heading"],[1,"label-input-gap"],["formControlName","title","placeholder","Select",1,"input-upper"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","","name","firstName","formControlName","firstName",1,"form-control","mandatory-field","input-upper"],["type","text","placeholder","","name","name","formControlName","middleName",1,"form-control","input-upper"],["type","text","placeholder","","name","lastName","formControlName","lastName",1,"form-control","mandatory-field","input-upper"],["type","date","placeholder","","name","DOB","formControlName","DOB",1,"form-control","red-bottom-line","input-upper"],["formControlName","gender","placeholder","Select",1,"input-upper"],["formControlName","relationship",1,"input-upper"],[3,"value"],[1,"col-1","d-flex","justify-content-center","align-items-start",2,"background-color","transparent"],["src","/assets/icons/Edit.svg","alt","",2,"width","37px","height","37px","cursor","pointer",3,"click"]],template:function(e,l){1&e&&t.YNc(0,T,51,18,"div",0),2&e&&t.Q6J("ngIf",l.Form)},directives:[p.O5,p.mk,M.B,a._Y,a.JL,a.sg,S.j,E.$,N.w9,a.JJ,a.u,p.sg,N.jq,a.Fj],styles:["#main[_ngcontent-%COMP%]{height:calc(100vh - 310px);overflow:auto;padding-bottom:5rem}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}"]}),u})()},2056:(f,v,r)=>{r.d(v,{C:()=>P});var o=r(9808),t=r(7263),a=r(84),_=r(5503),m=r(2382),i=r(884),s=r(8076),n=r(4376),y=r(5e3);let P=(()=>{class g{}return g.\u0275fac=function(p){return new(p||g)},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({imports:[[o.ez,m.u5,m.UX,a.B,t.q,_.D,i.c,s.F,n.A0]]}),g})()},4540:(f,v,r)=>{r.d(v,{r:()=>a});var o=r(531),t=r(5e3);let a=(()=>{class _{constructor(){this.familyMembers=[{role:"Father",info:[]},{role:"Mother",info:[]},{role:"Brother",info:[]},{role:"Sister",info:[]}],this.patientNotPristi=!1,this.legalGuardNotPristi=!1,this.paymentPartyNotPristi=!1,this.insuranSubscNotPristi=!1,this.exterProvNotPristi=!1,this.referrerNotPristi=!1,this.familyMembNotPristi=!1,this.conditions=[]}setPatientFamiMemb(i,s){for(let n=0;n<this.familyMembers.length;n++)this.familyMembers[n].role==i&&(this.familyMembers[n].info=s);localStorage.setItem("patientFamilyMembers",JSON.stringify(this.familyMembers))}setLegalGuardToPati(i){var s=this;return(0,o.Z)(function*(){s.LegalGuardToPati=i,localStorage.setItem("LegalGuardToPati",JSON.stringify(i)),s.LegalGuardToPati=yield JSON.parse(localStorage.getItem("LegalGuardToPati"))})()}getLegalGuardToPati(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("LegalGuardToPati"))})()}getLegalGuardFamiMemb(){var i=this;return(0,o.Z)(function*(){null!=JSON.parse(localStorage.getItem("patientFamilyMembers"))&&(i.familyMembers=yield JSON.parse(localStorage.getItem("patientFamilyMembers")),i.familyMembers.filter(n=>n.role==JSON.parse(localStorage.getItem("LegalGuardToPati"))))})()}setLegalGuard(i){localStorage.setItem("LegalGuardian",JSON.stringify(i))}getLegalGuard(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("LegalGuardian"))})()}setPaymPartyToPati(i){var s=this;return(0,o.Z)(function*(){s.PaymPartyToPati=i,localStorage.setItem("PaymPartyToPati",JSON.stringify(i)),s.PaymPartyToPati=yield JSON.parse(localStorage.getItem("PaymPartyToPati"))})()}getPaymPartyToPati(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("PaymPartyToPati"))})()}getPaymPartyFamiMemb(){var i=this;return(0,o.Z)(function*(){null!=JSON.parse(localStorage.getItem("patientFamilyMembers"))&&(i.familyMembers=yield JSON.parse(localStorage.getItem("patientFamilyMembers")),i.familyMembers.filter(n=>n.role==JSON.parse(localStorage.getItem("PaymPartyToPati"))))})()}setPaymParty(i){localStorage.setItem("PaymParty",JSON.stringify(i))}getPaymParty(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("PaymParty"))})()}setInsuSubscToPati(i){var s=this;return(0,o.Z)(function*(){s.InsuSubscToPati=i,localStorage.setItem("InsuSubscToPati",JSON.stringify(i)),s.InsuSubscToPati=yield JSON.parse(localStorage.getItem("InsuSubscToPati"))})()}getInsuSubscToPati(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("InsuSubscToPati"))})()}getInsuSubscFamiMemb(){var i=this;return(0,o.Z)(function*(){if(null!=JSON.parse(localStorage.getItem("patientFamilyMembers")))return i.familyMembers=yield JSON.parse(localStorage.getItem("patientFamilyMembers")),i.familyMembers.filter(n=>n.role==JSON.parse(localStorage.getItem("InsuSubscToPati")))[0].info})()}setInsuSubsc(i){localStorage.setItem("InsuSubsc",JSON.stringify(i))}getInsuSubsc(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("InsuSubsc"))})()}setFamylMembToPati(i){var s=this;return(0,o.Z)(function*(){s.FamylMembToPati=i,localStorage.setItem("FamylMembToPati",JSON.stringify(i)),s.FamylMembToPati=yield JSON.parse(localStorage.getItem("FamylMembToPati"))})()}getFamylMembToPati(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("FamylMembToPati"))})()}getFamylMembFamylMemb(){var i=this;return(0,o.Z)(function*(){if(null!=JSON.parse(localStorage.getItem("patientFamilyMembers")))return i.familyMembers=yield JSON.parse(localStorage.getItem("patientFamilyMembers")),i.familyMembers.filter(n=>n.role==JSON.parse(localStorage.getItem("FamylMembToPati")))[0].info})()}setFamyMemb(i){localStorage.setItem("FamyMemb",JSON.stringify(i))}getFamyMemb(){return(0,o.Z)(function*(){return JSON.parse(localStorage.getItem("FamyMemb"))})()}setpatientNotPristine(i){this.patientNotPristi=i}getpatientNotPristine(){return this.patientNotPristi}setlegalGuardNotPristine(i){this.legalGuardNotPristi=i}getlegalGuardNotPristine(){return this.legalGuardNotPristi}setpaymentPartyNotPristine(i){this.paymentPartyNotPristi=i}getpaymentPartyNotPristine(){return this.paymentPartyNotPristi}setinsuranSubscNotPristine(i){this.insuranSubscNotPristi=i}getinsuranSubscNotPristine(){return this.insuranSubscNotPristi}setExterProvNotPristine(i){this.exterProvNotPristi=i}getExterProvNotPristine(){return this.exterProvNotPristi}setReferrerNotPristine(i){this.referrerNotPristi=i}getReferrerNotPristine(){return this.referrerNotPristi}setFamilyMembNotPristine(i){this.familyMembNotPristi=i}getFamilyMembNotPristine(){return this.familyMembNotPristi}setFalseAllNotPristine(){this.setpatientNotPristine(!1),this.setlegalGuardNotPristine(!1),this.setpaymentPartyNotPristine(!1),this.setinsuranSubscNotPristine(!1),this.setExterProvNotPristine(!1),this.setReferrerNotPristine(!1),this.setFamilyMembNotPristine(!1)}setConditions(){this.conditions=[],this.conditions.push({section:"patient",condition:this.getpatientNotPristine()}),this.conditions.push({section:"legalGuard",condition:this.getlegalGuardNotPristine()}),this.conditions.push({section:"referrer",condition:this.getReferrerNotPristine()}),this.conditions.push({section:"insuranSubsc",condition:this.getinsuranSubscNotPristine()}),this.conditions.push({section:"exterprov",condition:this.getExterProvNotPristine()}),this.conditions.push({section:"paymentParty",condition:this.getpaymentPartyNotPristine()}),this.conditions.push({section:"familyMemb",condition:this.getFamilyMembNotPristine()})}getConditions(){return this.conditions}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},4524:(f,v,r)=>{r.d(v,{W:()=>_});var o=r(2382),t=r(1135),a=r(5e3);let _=(()=>{class m{constructor(s){this.fb=s,this.isDisabled$=new t.X(this.isDisabled)}getAddressForm(s,n){return this.fb.group({addressLine1:[(null==(s=s||{})?void 0:s.addressLine1)||"",(n=n||{}).addressLine1&&[o.kI.required,o.kI.pattern("[A-Za-z]+[0-9]|[0-9]+[A-Za-z]|[A-Za-z]")]],addressLine2:[(null==s?void 0:s.addressLine2)||"",n.addressLine2&&o.kI.required],city:[(null==s?void 0:s.city)||"",n.city&&o.kI.required],state:[(null==s?void 0:s.state)||"",n.state&&o.kI.required],country:[(null==s?void 0:s.country)||"",n.country&&o.kI.required],zipCode:[(null==s?void 0:s.zipCode)||"",n.zipCode&&o.kI.required]})}setDisabledOrEnabled(s){this.isDisabled=s,this.isDisabled$.next(this.isDisabled)}getDisabledOrEnabled(){return this.isDisabled$}}return m.\u0275fac=function(s){return new(s||m)(a.LFG(o.qu))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},528:(f,v,r)=>{r.d(v,{D:()=>t});var o=r(5e3);let t=(()=>{class a{constructor(){this.businessGroupNotPristi=!1,this.legalEntityNotPristi=!1,this.locationNotPristi=!1,this.practiceNotPristi=!1,this.conditions=[]}setbusinessGroupNotPristine(m){this.businessGroupNotPristi=m}getbusinessGroupNotPristine(){return this.businessGroupNotPristi}setlegalEntityBenfNotPristine(m){this.legalEntityNotPristi=m}getlegalEntityBenfNotPristine(){return this.legalEntityNotPristi}setlocationNotPristine(m){this.locationNotPristi=m}getlocationNotPristine(){return this.locationNotPristi}setpracticeNotPristine(m){this.practiceNotPristi=m}getpracticeNotPristine(){return this.practiceNotPristi}setFalseAllNotPristine(){this.setbusinessGroupNotPristine(!1),this.setlegalEntityBenfNotPristine(!1),this.setlocationNotPristine(!1),this.setpracticeNotPristine(!1)}setConditions(){this.conditions=[],this.conditions.push({section:"businessgroup",condition:this.getbusinessGroupNotPristine()}),this.conditions.push({section:"legalentity",condition:this.getlegalEntityBenfNotPristine()}),this.conditions.push({section:"location",condition:this.getlocationNotPristine()}),this.conditions.push({section:"practice",condition:this.getpracticeNotPristine()})}getConditions(){return this.conditions}}return a.\u0275fac=function(m){return new(m||a)},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);