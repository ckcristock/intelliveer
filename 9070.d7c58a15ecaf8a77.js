"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9070],{9070:(A,d,a)=>{a.r(d),a.d(d,{AddLegalGuardianModule:()=>S});var c=a(9808),l=a(4996),g=a(7924),r=a(5e3),m=a(5601),p=a(1228),h=a(7802),v=a(5730),f=a(5530);const y=[{path:"",component:(()=>{class n{constructor(e,i,o,t,b){this.router=e,this.legalGuardianService=i,this.authService=o,this.businessGroupDropdownService=t,this.alertService=b,this.businessGroupDropdownSupscription=this.businessGroupDropdownService.businessGroup().subscribe(u=>{u&&(this.selectedBusinessGroup=u,this.getOrgBgId())})}ngOnInit(){}ngOnDestroy(){}create(e){let i={profile:{title:e.title,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,DOB:e.DOB,gender:e.gender,preferredPronoun:e.pronoun,language:e.language,maritalStatus:e.maritalStatus},address:e.address,contact:{email:e.emailId,primaryPhone:{type:e.primaryPhoneType,countryCode:"",number:e.primaryPhoneNumber},secondaryPhone:{type:e.secondaryPhoneType,countryCode:"",number:e.secondaryPhoneNumber},primaryPreferredCommunicationMethod:e.primaryPreferredCommunicationMethod,secondaryPreferredCommunicationMethod:e.secondaryPreferredCommunicationMethod,preferredTimingForCall:e.preferredTimingForCall},notes:e.note};this.alertService.conformAlert("Are you sure","you want to save legal Guardian").then(o=>{o.isConfirmed&&this.legalGuardianService.saveLegalGuardian(i,this.bgId).subscribe(t=>{this.alertService.success("Success","Legal Guardian has been save successfully"),this.router.navigate(["/dashboard/patient/patient-user/legal-guardian"])},t=>{console.log(t)})})}handleCancel(){this.router.navigate(["/dashboard/patient/patient-user/legal-guardian"])}getOrgBgId(){var e,i;let o=localStorage.getItem("selected_business_group"),t=this.authService.getLoggedInUser();this.bgId=(null==t?void 0:t.__ISSU__)?"intelliveer"==o||null==o?"intelliveer":null===(e=this.selectedBusinessGroup)||void 0===e?void 0:e.bgId:null===(i=this.selectedBusinessGroup)||void 0===i?void 0:i.bgId}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(l.F0),r.Y36(m.d),r.Y36(p.e),r.Y36(h.Y),r.Y36(v.c))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-legal-guardian"]],decls:2,vars:1,consts:[[1,"container"],[3,"title","onCancel","onSubmit"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"app-legal-guardian-form",1),r.NdJ("onCancel",function(){return i.handleCancel()})("onSubmit",function(t){return i.create(t)}),r.qZA()()),2&e&&(r.xp6(1),r.Q6J("title","Create New Family Member"))},directives:[f.k],styles:[""]}),n})(),canDeactivate:[g.I]}];let G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[l.Bz.forChild(y)],l.Bz]}),n})();var C=a(9515);let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[c.ez,G,C.$]]}),n})()}}]);