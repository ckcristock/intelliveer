"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5535],{5535:(D,c,i)=>{i.r(c),i.d(c,{EditPaymentPartyModule:()=>b});var u=i(9808),d=i(1333),m=i(4996),y=i(7924),e=i(5e3),p=i(1228),h=i(7802),P=i(5730),g=i(8046),v=i(2415);function f(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"app-payment-party-form",2),e.NdJ("onCancel",function(){return e.CHM(t),e.oxw().handleCancel()})("onSubmit",function(o){return e.CHM(t),e.oxw().update(o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("title","Edit Family Member")("formData",t.data)}}const S=[{path:"",component:(()=>{class n{constructor(t,r,o,a,I,E){this.router=t,this.activeRoute=r,this.authService=o,this.businessGroupDropdownService=a,this.alertService=I,this.paymentPartyService=E,this.businessGroupDropdownSupscription=this.businessGroupDropdownService.businessGroup().subscribe(l=>{l&&(this.selectedBusinessGroup=l,this.getOrgBgId())})}ngOnInit(){}getPaymentPartyData(){this.activeRoute.params.subscribe(t=>{t.id&&(this.id=t.id,this.paymentPartyService.getSingleData(this.bgId,t.id).subscribe({next:r=>{this.data=r},error:()=>{}}))})}update(t){let r={_id:this.id,profile:{relationshipWithPatient:t.relationship,title:t.title,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,DOB:t.DOB,gender:t.gender,preferredPronoun:t.pronoun,language:t.language,maritalStatus:t.maritalStatus},address:t.address,contact:{email:t.emailId,primaryPhone:{type:t.primaryPhoneType,countryCode:"",number:t.primaryPhoneNumber},secondaryPhone:{type:t.secondaryPhoneType,countryCode:"",number:t.secondaryPhoneNumber},primaryPreferredCommunicationMethod:t.primaryPreferredCommunicationMethod,secondaryPreferredCommunicationMethod:t.secondaryPreferredCommunicationMethod,preferredTimingForCall:t.preferredTimingForCall},financials:{workStatus:t.workStatus,occupation:t.occupation,employer:t.employer,creditRating:t.creditRating,SSN:t.SSN},notes:t.note};this.alertService.conformAlert("Are you sure","you want to edit payment party").then(o=>{o.isConfirmed&&this.paymentPartyService.update(r,this.bgId).subscribe(a=>{this.alertService.success("Success","Payment Party has been updated successfully"),this.router.navigate(["/dashboard/patient/patient-user/payment-party"])},a=>{console.log(a)})})}getOrgBgId(){var t,r;let o=localStorage.getItem("selected_business_group"),a=this.authService.getLoggedInUser();(null==a?void 0:a.__ISSU__)?"intelliveer"==o||null==o?(this.bgId="intelliveer",this.getPaymentPartyData()):(this.bgId=null===(t=this.selectedBusinessGroup)||void 0===t?void 0:t.bgId,this.getPaymentPartyData()):(this.bgId=null===(r=this.selectedBusinessGroup)||void 0===r?void 0:r.bgId,this.getPaymentPartyData())}handleCancel(){this.router.navigate(["/dashboard/patient/patient-user/payment-party"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(p.e),e.Y36(h.Y),e.Y36(P.c),e.Y36(g.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-payment-party"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"title","formData","onCancel","onSubmit"]],template:function(t,r){1&t&&e.YNc(0,f,2,2,"div",0),2&t&&e.Q6J("ngIf",r.data)},directives:[u.O5,v.J],styles:[""]}),n})(),canDeactivate:[y.I]}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(S)],m.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,d.G,C]]}),n})()}}]);